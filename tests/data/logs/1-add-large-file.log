#####################################
add-large-content-to-shuttles.sh
#####################################
Generating large file....
Upload to several shuttles: Started
+ HOST=https://upload.estuary.tech
+ curl --progress-bar -X POST https://upload.estuary.tech/content/add -H 'Authorization: Bearer EST715a6d5c-f987-4b90-a85f-977dcda35412ARY' -H 'Accept: application/json' -H 'Content-Type: multipart/form-data' -F data=@../data/files/large-file
#=#=#                                                                         ##O#-#                                                                        ###                                                                        5.2%#####                                                                      7.9%#######                                                                   10.5%#############                                                             18.3%###############                                                           21.0%################                                                          23.6%##################                                                        26.2%####################                                                      28.8%######################                                                    31.5%########################                                                  34.1%##########################                                                36.7%############################                                              39.3%##############################                                            41.9%################################                                          44.6%#################################                                         47.2%###################################                                       49.8%#####################################                                     52.4%#######################################                                   55.0%#########################################                                 57.7%###########################################                               60.3%#############################################                             62.9%###############################################                           65.5%#################################################                         68.2%##################################################                        70.8%####################################################                      73.4%######################################################                    76.0%########################################################                  78.6%##########################################################                81.3%############################################################              83.9%##############################################################            86.5%################################################################          89.1%###################################################################       94.4%#####################################################################     97.0%#######################################################################   99.6%######################################################################## 100.0%######################################################################## 100.0%{"cid":"bafybeifamugds6vfcu5mclzitsan5rb4xd4ozs32fijv7imcty5htbvfnu","estuaryId":29846931,"providers":["/ip4/3.134.223.177/tcp/6745/p2p/12D3KooWN8vAoGd6eurUSidcpLYguQiGZwt4eVgDvbgaS7kiGTup"]}

+ for i in '"${UPLOAD_URLS[@]}"'
+ set -x
+ HOST=https://shuttle-1.estuary.tech
+ curl --progress-bar -X POST https://shuttle-1.estuary.tech/content/add -H 'Authorization: Bearer EST715a6d5c-f987-4b90-a85f-977dcda35412ARY' -H 'Accept: application/json' -H 'Content-Type: multipart/form-data' -F data=@../data/files/large-file
#=#=#                                                                         #                                                                          2.6%###                                                                        5.2%#####                                                                      7.9%#######                                                                   10.5%#############                                                             18.3%###############                                                           21.0%################################                                          44.6%#################################                                         47.2%#####################################                                     52.4%#######################################                                   55.0%###########################################                               60.3%########################################################                  78.6%##################################################################        91.7%#######################################################################   99.6%######################################################################## 100.0%######################################################################## 100.0%{"error":"ERR_CONTENT_ADDING_DISABLED"}

+ for i in '"${UPLOAD_URLS[@]}"'
+ set -x
+ HOST=https://shuttle-2.estuary.tech
+ curl --progress-bar -X POST https://shuttle-2.estuary.tech/content/add -H 'Authorization: Bearer EST715a6d5c-f987-4b90-a85f-977dcda35412ARY' -H 'Accept: application/json' -H 'Content-Type: multipart/form-data' -F data=@../data/files/large-file
#=#=#                                                                         ##O#-#                                                                        #                                                                          2.6%###                                                                        5.2%#####                                                                      7.9%#######                                                                   10.5%###############                                                           21.0%############################                                              39.3%###################################                                       49.8%#########################################                                 57.7%###########################################                               60.3%#############################################                             62.9%###############################################                           65.5%#################################################                         68.2%##################################################                        70.8%####################################################                      73.4%######################################################                    76.0%########################################################                  78.6%##########################################################                81.3%############################################################              83.9%##############################################################            86.5%################################################################          89.1%##################################################################        91.7%###################################################################       94.4%#####################################################################     97.0%#######################################################################   99.6%######################################################################## 100.0%######################################################################## 100.0%{"error":"ERR_CONTENT_ADDING_DISABLED"}

+ for i in '"${UPLOAD_URLS[@]}"'
+ set -x
+ HOST=https://shuttle-3.estuary.tech
+ curl --progress-bar -X POST https://shuttle-3.estuary.tech/content/add -H 'Authorization: Bearer EST715a6d5c-f987-4b90-a85f-977dcda35412ARY' -H 'Accept: application/json' -H 'Content-Type: multipart/form-data' -F data=@../data/files/large-file
#=#=#                                                                         ##O#-#                                                                        curl: (60) SSL certificate problem: self signed certificate
More details here: https://curl.se/docs/sslcerts.html

curl failed to verify the legitimacy of the server and therefore could not
establish a secure connection to it. To learn more about this situation and
how to fix it, please visit the web page mentioned above.

+ for i in '"${UPLOAD_URLS[@]}"'
+ set -x
+ HOST=https://shuttle-4.estuary.tech
+ curl --progress-bar -X POST https://shuttle-4.estuary.tech/content/add -H 'Authorization: Bearer EST715a6d5c-f987-4b90-a85f-977dcda35412ARY' -H 'Accept: application/json' -H 'Content-Type: multipart/form-data' -F data=@../data/files/large-file
#=#=#                                                                         ###                                                                        5.2%#####                                                                      7.9%#######                                                                   10.5%#########                                                                 13.1%###########                                                               15.7%#############                                                             18.3%###############                                                           21.0%################                                                          23.6%##################                                                        26.2%####################                                                      28.8%######################                                                    31.5%########################                                                  34.1%##########################                                                36.7%##############################                                            41.9%################################                                          44.6%###################################                                       49.8%#####################################                                     52.4%#########################################                                 57.7%###########################################                               60.3%###############################################                           65.5%##################################################                        70.8%####################################################                      73.4%########################################################                  78.6%##########################################################                81.3%##############################################################            86.5%##################################################################        91.7%######################################################################## 100.0%######################################################################## 100.0%{"cid":"bafybeifamugds6vfcu5mclzitsan5rb4xd4ozs32fijv7imcty5htbvfnu","estuaryId":29846957,"providers":["/ip4/3.134.223.177/tcp/6745/p2p/12D3KooWN8vAoGd6eurUSidcpLYguQiGZwt4eVgDvbgaS7kiGTup"]}

+ for i in '"${UPLOAD_URLS[@]}"'
+ set -x
+ HOST=https://shuttle-5.estuary.tech
+ curl --progress-bar -X POST https://shuttle-5.estuary.tech/content/add -H 'Authorization: Bearer EST715a6d5c-f987-4b90-a85f-977dcda35412ARY' -H 'Accept: application/json' -H 'Content-Type: multipart/form-data' -F data=@../data/files/large-file
#=#=#                                                                         ##O#-#                                                                        #                                                                          2.6%###                                                                        5.2%#####                                                                      7.9%#######                                                                   10.5%#########                                                                 13.1%###########                                                               15.7%#############                                                             18.3%###############                                                           21.0%################                                                          23.6%##################                                                        26.2%####################                                                      28.8%######################                                                    31.5%########################                                                  34.1%##########################                                                36.7%############################                                              39.3%################################                                          44.6%#################################                                         47.2%#####################################                                     52.4%#######################################                                   55.0%#######################################                                   55.0%#######################################                                   55.1%{"cid":"bafybeic4zq5mhxmi73ttvqhj4oal742mmp3bqtj33u7yhfyxe4jxdytmbe","estuaryId":29846973,"providers":["/ip4/172.31.32.185/tcp/6745/p2p/12D3KooWLV128pddyvoG6NBvoZw7sSrgpMTPtjnpu3mSmENqhtL7","/ip4/127.0.0.1/tcp/6745/p2p/12D3KooWLV128pddyvoG6NBvoZw7sSrgpMTPtjnpu3mSmENqhtL7","/ip4/172.31.32.185/udp/6746/quic/p2p/12D3KooWLV128pddyvoG6NBvoZw7sSrgpMTPtjnpu3mSmENqhtL7","/ip4/127.0.0.1/udp/6746/quic/p2p/12D3KooWLV128pddyvoG6NBvoZw7sSrgpMTPtjnpu3mSmENqhtL7","/ip4/35.74.45.12/udp/6746/quic/p2p/12D3KooWLV128pddyvoG6NBvoZw7sSrgpMTPtjnpu3mSmENqhtL7","/ip4/35.74.45.12/tcp/6745/p2p/12D3KooWLV128pddyvoG6NBvoZw7sSrgpMTPtjnpu3mSmENqhtL7"]}

+ echo 'Upload to several shuttles: Done'
Upload to several shuttles: Done
+ yes 'this is for a large file'
+ head -n 10
